<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link href="./Stylesheets/CreateQuiz.css" rel="stylesheet" type="text/css">
    <title>Take Quiz</title>
</head>
<body>
    <div class="outer-body">
        <div class="quiz-body">
            <div class="quiz-title">
                <label>Available Quizzes</label>
            </div>
            <div id="quiz-body-2">
                <!-- Quiz buttons will be dynamically added here -->
            </div>
        </div>
    </div>
    <script>
        // Function to handle the quiz button click
        function takeQuiz(quizId) {
            window.sessionStorage.setItem("currquiz", quizId);
            window.location.replace("takeQuiz.html");
        }

        // Fetch quizzes from localStorage and create buttons
        document.addEventListener('DOMContentLoaded', (event) => {
            var temp = JSON.parse(window.localStorage.getItem("Quiz")) || {};
            for (const quizId in temp) {
                if (temp.hasOwnProperty(quizId)) {
                    var newDiv = document.createElement("div");
                    newDiv.setAttribute("id", quizId);
                    newDiv.setAttribute("class", "test-buttons");

                    // Create a button and append it to the new div
                    var button = document.createElement("input");
                    button.type = "button";
                    button.value = quizId;
                    button.onclick = function() {
                        takeQuiz(quizId);
                    };

                    newDiv.appendChild(button);
                    document.getElementById("quiz-body-2").appendChild(newDiv);
                }
            }
        });
    </script>
</body>
</html>
